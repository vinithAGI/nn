<!DOCTYPE html>
<html>
<head>
  <title>Bill Generator</title>
  <style>
    body { font-family: Arial; padding: 20px; }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; }
    th, td { border: 1px solid #ccc; padding: 8px; text-align: center; }
    th { background-color: #f2f2f2; }
    input { width: 100%; padding: 5px; }
    .btn { padding: 10px 20px; margin-top: 10px; cursor: pointer; }
    .green { background-color: #4CAF50; color: white; }

    @media print {
      .btn, h2 { display: none; }
      input { border: none; outline: none; }
      input::placeholder { color: transparent; }
    }
  </style>
</head>
<body>

<h2>Bill Generator</h2>

<div id="billSection">
  <table id="billTable">
    <thead>
      <tr>
        <th>Date</th>
        <th>Program</th>
        <th>Size</th>
        <th>Flex Amount</th>
        <th>Fixing</th>
        <th>Rate</th>
        <th>Qty</th>
        <th>Amount</th>
        <th>Advance</th>
        <th>By</th>
        <th>Notes</th>
      </tr>
    </thead>
    <tbody id="billBody">
      <tr>
        <td><input type="date" /></td>
        <td><input type="text" /></td>
        <td><input type="text" /></td>
        <td><input type="number" oninput="calculateAmount(this)" /></td>
        <td><input type="number" oninput="calculateAmount(this)" /></td>
        <td><input type="number" oninput="calculateAmount(this)" /></td>
        <td><input type="number" oninput="calculateAmount(this)" /></td>
        <td><input type="number" readonly /></td>
        <td><input type="number" /></td>
        <td><input type="text" /></td>
        <td><input type="text" /></td>
      </tr>
    </tbody>
  </table>

  <h3>Total Amount: ‚Çπ<span id="totalAmount">0</span></h3>
  <h3>Advance Paid: ‚Çπ<span id="advanceTotal">0</span></h3>
  <h3><b>Balance: ‚Çπ<span id="balance">0</span></b></h3>
</div>

<!-- Buttons -->
<button class="btn green" onclick="addRow()">Add Row</button>
<button class="btn" onclick="calculateTotal()">Calculate Total</button>
<button class="btn" onclick="window.print()">üñ®Ô∏è Print Bill</button>

<script>
function addRow() {
  const row = document.getElementById("billBody").rows[0].cloneNode(true);
  row.querySelectorAll("input").forEach(input => input.value = "");
  document.getElementById("billBody").appendChild(row);
}

function calculateAmount(input) {
  const row = input.closest("tr");
  const flex = parseFloat(row.cells[3].querySelector("input").value) || 0;
  const fix = parseFloat(row.cells[4].querySelector("input").value) || 0;
  const rate = parseFloat(row.cells[5].querySelector("input").value) || 0;
  const qty = parseFloat(row.cells[6].querySelector("input").value) || 0;
  const total = (rate + flex + fix) * qty;
  row.cells[7].querySelector("input").value = total.toFixed(2);
}

function calculateTotal() {
  let totalAmount = 0;
  let totalAdvance = 0;
  const rows = document.querySelectorAll("#billBody tr");

  rows.forEach(row => {
    const amt = parseFloat(row.cells[7].querySelector("input").value) || 0;
    const adv = parseFloat(row.cells[8].querySelector("input").value) || 0;
    totalAmount += amt;
    totalAdvance += adv;
  });

  document.getElementById("totalAmount").innerText = totalAmount.toFixed(2);
  document.getElementById("advanceTotal").innerText = totalAdvance.toFixed(2);
  document.getElementById("balance").innerText = (totalAmount - totalAdvance).toFixed(2);
}
</script>

</body>
</html>

